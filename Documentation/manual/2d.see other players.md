# See other player match system

We can see other player battles by clicking on the swords icon that appears above the lobby users if they are on a match. This button will activate the [ViewMatch()]()  method in the [PlayerUI.cs](). This method will show a popup and then if it's confirmed, then we proceed to create a match with the currentMatchId of that player. The match will take a special route on the creation ensuring that the data necesary for the battle to be created is filled, or at least a template while the data arrives from the server. Let's take a look at an example of this in the [SendBattle()]() from [GameSceneManage.cs]().

```cs
GameSceneManager.cs

        public void SendBattle(..., bool isViewing)
        {
            ...

            BattleGameMode battleInstance = combatInstance.GetComponent<BattleGameMode>();

            if (getMatchResult != null)
            {
                PlayerDataManager.Singleton.localPlayerData.currentMatchId = getMatchResult.MatchId;
                battleInstance.OnStartMatch(getMatchResult);
            }
            else
            {

// This is the case when it viewing, it initializes the data
                PlayerDataManager.Singleton.localPlayerData.currentMatchId = matchId;
                battleInstance.isViewingMatch = isViewing;
                BattleViewerController battleViewer = combatInstance.GetComponent<BattleViewerController>();
                battleViewer.Initialize(matchId, isViewing);
            }
            ...
        }

```


```cs 
BattleViewerController.cs

        public void Initialize(string matchId, bool isViewing)
        {
            //This is just template  data that will later be filled by the server data of the match.
            battleGameMode.localCombat = new Combat()
            {
                CurrentTurn = 0
            };
            battleGameMode.playerInfo.userIndex = 0;
            battleGameMode.enemyInfo.userIndex = 1;

            battleGameMode.playerInfo.isLocalPlayer = true;
            battleGameMode.enemyInfo.isLocalPlayer = false;

            battleGameMode.localCombat.MatchData.MatchId = matchId;
            battleGameMode.localCombat.MatchData.MatchPlayers = new System.Collections.Generic.List<CombatPlayer>() { null, null };

            if (isViewing)
                battleGameMode.WaitForOpponentToSelectViewMatch();
            else
                battleGameMode.StartCoroutine(battleGameMode.WaitForOpponentToSelect());
        }

```

Then we continue the normal flow of the game by sending the flow to the [WaitForOpponentToSelect()]() . When this data arrive we override the template with this data and then continue the normal flow of the game.
