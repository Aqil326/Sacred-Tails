# Lobby Server
A large part of the lobby processing is done via server, this is responsible for saving and delivering the positions of all players.

The first step to be part of a lobby is to connect

### **ConnectToLobby**
Connect to lobby first checks that the player who is trying to connect is using the latest version of the game to avoid corrupting data to other players, then it checks if the ID provided is truly a lobby and if it is, it checks if it has space for more players.

When connecting, it checks if the player has ELO among his data, if not, it sets the default ELO value and informs the player that he was able to connect correctly.

### **SendGetData**
SendGetData from lobby basically sends the lobby data of the player, the chats, the position, the current shinsei, etc. and also brings all the lobby data to return this data to the client in order for him to update his local lobby.


### **DeletePlayer**
DeletePlayer function its a very basic function that just disconnects the player from the respective lobby. 

# Other Server Side Functions

## ReportBug
This function allows users to send a bug report through a small form and a button, which includes a screenshot of the user. Let's look at the pseudocode.

```cs
module.exports = function (context, req) {
    try {
        UploadReport(matchId + ":" + date.getTime() + ":" + playFabId, picture, message, context)
    }
    catch (err) {
        CatchError(context, { code: 404, message: "Unexpected error on bug report", data: null });
    }
}

function UploadReport(code, picture, message, context) {
    //Organize the parameters into the data object
    let debugData = {};
    debugData[code] = ...;

    //Update the sharedgroup Bugs data
    let reportBugRequest = { SharedGroupId: "Bugs", Data: debugData }
    PlayFabServer.UpdateSharedGroupData(reportBugRequest, (error, result) => {
        if (error != null) {
          // Return error to client...
          return;
        }

        // Return success to client
    });
}
```